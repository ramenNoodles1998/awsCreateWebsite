(function(e){function t(t){for(var r,o,i=t[0],c=t[1],l=t[2],d=0,f=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},s=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},2:function(e,t){},3:function(e,t){},3034:function(e,t,n){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[e.isLoggedIn?n("div",[n("NavBar"),n("router-view")],1):n("Login")],1)],1)},s=[],o=n("5530"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{staticClass:"primary--text"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",color:"primary"}},"v-btn",a,!1),r),[n("v-icon",[e._v(" mdi-menu ")])],1)]}}])},[n("v-list",[n("v-list-item",[n("v-list-item-title",[n("v-btn",{staticClass:"primary--text",attrs:{text:""},on:{click:function(t){return e.$router.push("/create-website")}}},[e._v(" Create Website ")])],1)],1)],1)],1),n("v-toolbar-title",{staticClass:"mr-5 font-weight-medium"},[e._v(" UVUCS ")]),n("v-toolbar-title",[e._v(" COMPUTER SCIENCE ")]),n("v-spacer"),e.isLoggedIn?n("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.logout}},[e._v(" logout ")]):e._e()],1)},c=[],l=n("2f62"),u={name:"NavBar",methods:Object(o["a"])({},Object(l["b"])(["logout"])),computed:Object(o["a"])({},Object(l["d"])(["isLoggedIn"]))},d=u,f=n("2877"),p=n("6544"),m=n.n(p),v=n("8336"),w=n("132d"),g=n("8860"),b=n("da13"),h=n("5d23"),x=n("e449"),_=n("2fa4"),y=n("71d9"),j=n("2a7f"),P=Object(f["a"])(d,i,c,!1,null,null,null),I=P.exports;m()(P,{VBtn:v["a"],VIcon:w["a"],VList:g["a"],VListItem:b["a"],VListItemTitle:h["a"],VMenu:x["a"],VSpacer:_["a"],VToolbar:y["a"],VToolbarTitle:j["a"]});var O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{model:{value:e.newPasswordDialog,callback:function(t){e.newPasswordDialog=t},expression:"newPasswordDialog"}},[n("v-form",{ref:"newPasswordform",model:{value:e.newPasswordValid,callback:function(t){e.newPasswordValid=t},expression:"newPasswordValid"}},[n("v-card",[n("v-card-title",{staticClass:"display-1 primary--text"},[e._v(" New Password ")]),n("v-card-text",[n("v-text-field",{attrs:{label:"Password",type:"password",rules:e.passwordRules},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),n("v-text-field",{attrs:{label:"Confirm Password",type:"password",rules:e.confirmPasswordRules.concat(e.passwordConfirmationRule)},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1),n("v-card-actions",[n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.closeNewPasswordDialog}},[e._v(" confirm ")])],1)],1)],1)],1),n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",{attrs:{classs:"d-flex justify-center"}},[n("div",{staticClass:"display-1 primary--text"},[e._v(" UVUCS Login ")]),n("v-text-field",{attrs:{label:"Username",rules:e.usernameRules},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{label:"Password",type:"password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary",text:"",loading:e.loading},on:{click:e.signIn}},[e._v(" Login ")])],1)],1)],1)},C=[],L=n("1da1"),k=(n("96cf"),{name:"Login",data:function(){return{newPasswordDialog:!1,newPasswordValid:!1,valid:!1,loading:!1,newPassword:"",confirmPassword:"",confirmPasswordRules:[function(e){return!!e||"Cownfirm Password is required"}],username:"",usernameRules:[function(e){return!!e||"Username is required"}],password:"",passwordRules:[function(e){return!!e||"Password is required"}]}},computed:Object(o["a"])(Object(o["a"])({},Object(l["d"])(["user"])),{},{passwordConfirmationRule:function(){var e=this;return function(){return e.newPassword===e.confirmPassword||"Passwords must match"}}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(l["c"])(["setIsLoggedIn"])),Object(l["b"])(["login","completeNewPassword"])),{},{validate:function(){this.$refs.form.validate()},closeNewPasswordDialog:function(){this.$refs.newPasswordform.validate(),this.newPasswordValid&&this.completeNewPassword({password:this.newPassword})&&(this.newPasswordDialog=!1)},signIn:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,e.validate(),!e.valid){t.next=7;break}return t.next=5,e.login({username:e.username,password:e.password});case 5:n=t.sent,n?"NEW_PASSWORD_REQUIRED"===n.challengeName?e.newPasswordDialog=!0:e.setIsLoggedIn({isLoggedIn:!0}):e.$refs.form.reset();case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})))()}})}),V=k,R=n("b0af"),S=n("99d9"),D=n("a523"),T=n("169a"),U=n("4bd4"),E=n("8654"),A=Object(f["a"])(V,O,C,!1,null,null,null),N=A.exports;m()(A,{VBtn:v["a"],VCard:R["a"],VCardActions:S["a"],VCardText:S["b"],VCardTitle:S["c"],VContainer:D["a"],VDialog:T["a"],VForm:U["a"],VTextField:E["a"]});var $={name:"App",components:{Login:N,NavBar:I},mounted:function(){this.onLoad()},computed:Object(o["a"])({},Object(l["d"])(["isLoggedIn"])),methods:Object(o["a"])({},Object(l["b"])(["onLoad"]))},z=$,W=n("7496"),F=n("f6c4"),M=Object(f["a"])(z,a,s,!1,null,null,null),B=M.exports;m()(M,{VApp:W["a"],VMain:F["a"]});var q=n("8c4f"),H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),n("div",{staticClass:"d-flex flex-row justify-center"},[n("v-icon",{attrs:{"x-large":"",color:"primary"}},[e._v(" mdi-book-open-variant ")])],1),n("div",{staticClass:"d-flex flex-row justify-center instructions"},[e._v(" Startup Instructions ")])])},J=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-row justify-center"},[n("h1",{staticClass:"primary--text font-weight-light"},[e._v(" AWS Startup Instructions ")])])}],G={name:"Home"},Q=G,K=(n("a01c"),Object(f["a"])(Q,H,J,!1,null,"8dc3fe9c",null)),X=K.exports;m()(K,{VIcon:w["a"]});var Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.api.length<=0?n("div",[n("v-file-input",{attrs:{label:"Submit you api zip file.",accept:"zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed","show-size":""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("v-btn",{on:{click:function(t){return e.submitFile()}}},[e._v("Submit")])],1):n("div",[e._v(" This is your new api "),n("strong",[n("a",{attrs:{href:e.api}},[e._v(e._s(e.api))])]),e._v(". ")])])},Z=[],ee=n("bc3a"),te=n.n(ee),ne={name:"CreateApi",data:function(){return{file:[],api:""}},methods:{submitFile:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("file",e.file),t.next=4,te.a.post("http://localhost:3000/createApi",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:r=t.sent,e.api=r.data;case 6:case"end":return t.stop()}}),t)})))()}}},re=ne,ae=n("23a7"),se=Object(f["a"])(re,Y,Z,!1,null,"07a9b0e1",null),oe=se.exports;m()(se,{VBtn:v["a"],VFileInput:ae["a"]});var ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e.website.length<=0?n("div",[n("div",{staticClass:"d-flex flex-row justify-right pt-3 pl-3"},[e._v(" Submit a zip file with an index.html and any other content for your website. ")]),n("v-file-input",{staticClass:"d-flex flex-row justify-right mx-3",attrs:{label:"Submit website file.",accept:"application/zip,application/x-zip,application/x-zip-compressed,application/octet-stream","show-size":""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),n("v-btn",{staticClass:"d-flex flex-row justify-right ml-3",on:{click:function(t){return e.submitFile()}}},[e._v(" Submit ")])],1):n("div",[n("div",{staticClass:"d-flex flex-row justify-right pt-3 pl-3"},[n("a",{attrs:{href:e.website,target:"blank"}},[e._v(" Go to your new website. ")])])])])},ce=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-row justify-left pl-3"},[n("h1",{staticClass:"primary--text font-weight-light"},[e._v(" Create Website ")])])}],le={name:"CreateWebsite",data:function(){return{file:[],website:""}},computed:Object(o["a"])({},Object(l["d"])(["user"])),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["createWebsite"])),{},{submitFile:function(){var e=this;return Object(L["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("file",e.file),n.append("username",e.user.idToken.payload["cognito:username"]),t.next=5,e.createWebsite({formData:n});case 5:r=t.sent,e.website=r.data;case 7:case"end":return t.stop()}}),t)})))()}})},ue=le,de=Object(f["a"])(ue,ie,ce,!1,null,"3c905d34",null),fe=de.exports;m()(de,{VBtn:v["a"],VFileInput:ae["a"]}),r["a"].use(q["a"]);var pe=[{path:"/",name:"Home",component:X},{path:"/create-api",name:"CreateApi",component:oe},{path:"/create-website",name:"CreateWebsite",component:fe}],me=new q["a"]({mode:"history",base:"/",routes:pe}),ve=me,we=n("bf82");function ge(){return te.a.create({baseURL:he.state.apiUrl})}function be(e){return ge().post("/createWebsite",e.formData,{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"POST","Access-Control-Allow-Headers":"Content-Type, x-requested-with","Content-Type":"multipart/form-data"}})}r["a"].use(l["a"]);var he=new l["a"].Store({state:{user:{},isLoggedIn:!1,apiUrl:"http://uvubackendwebapp-env.eba-hipsumk4.us-west-2.elasticbeanstalk.com"},mutations:{setUserData:function(e,t){var n=t.user;e.user=n},setIsLoggedIn:function(e,t){var n=t.isLoggedIn;e.isLoggedIn=n}},actions:{onLoad:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,we["a"].currentSession();case 4:r=t.sent,n("setUserData",{user:r}),n("setIsLoggedIn",{isLoggedIn:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},logout:function(e){return Object(L["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,we["a"].signOut();case 4:return n("setUserData",{user:{}}),n("setIsLoggedIn",{isLoggedIn:!1}),t.abrupt("return",!0);case 9:return t.prev=9,t.t0=t["catch"](1),n("setIsLoggedIn",{isLoggedIn:!0}),t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()},login:function(e,t){return Object(L["a"])(regeneratorRuntime.mark((function n(){var r,a,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,a=t.username,s=t.password,n.prev=2,n.next=5,we["a"].signIn(a,s);case 5:return o=n.sent,r("setUserData",{user:o.signInUserSession}),r("setIsLoggedIn",{isLoggedIn:!0}),n.abrupt("return",o);case 11:return n.prev=11,n.t0=n["catch"](2),console.log(n.t0),r("setIsLoggedIn",{isLoggedIn:!1}),n.abrupt("return",!1);case 16:case"end":return n.stop()}}),n,null,[[2,11]])})))()},completeNewPassword:function(e,t){var n=e.commit,r=e.state,a=t.password;try{return we["a"].completeNewPassword(r.user,a),n("setIsLoggedIn",{isLoggedIn:!0}),!0}catch(s){return n("setIsLoggedIn",{isLoggedIn:!1}),!1}},createWebsite:function(e,t){var n=e.state,r=t.formData,a=t.username;console.log(n);try{var s=be({formData:r,username:a});return s}catch(o){console.log(o)}}}}),xe=n("f309");r["a"].use(xe["a"]);var _e=new xe["a"]({theme:{themes:{light:{primary:"#2c5933",secondary:"#fffd8c"}},options:{customProperties:!0}}}),ye=n("00bd"),je={aws_project_region:"us-west-2",aws_cognito_identity_pool_id:"us-west-2:00922e70-aece-4532-8da1-eded71f53274",aws_cognito_region:"us-west-2",aws_user_pools_id:"us-west-2_S5wWlEz8P",aws_user_pools_web_client_id:"410gdovumnv8tskv5f272pmrnj",oauth:{}},Pe=je;ye["default"].configure(Pe),r["a"].config.productionTip=!1,new r["a"]({router:ve,store:he,vuetify:_e,render:function(e){return e(B)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},9:function(e,t){},a01c:function(e,t,n){"use strict";n("3034")}});
//# sourceMappingURL=app.73138336.js.map